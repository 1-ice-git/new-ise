
@{
    bool admin = Convert.ToBoolean(ViewBag.Amministratore);
    bool notificato = Convert.ToBoolean(ViewBag.Notificato);
}


<div class="form-horizontal">
    @*<div class="form-group">
        @if (notificato || admin)
        {
            @Html.Label("lblListaTrasferimento", "Trasferimento", new { @class = "control-label col-xs-3" })
        }
        else
        {
            @Html.Label("lblListaTrasferimento", "Trasferimento", new { @class = "control-label col-xs-3" })
            @Html.DropDownList("listaTrasferimento", ViewBag.ListaTrasferimento as IEnumerable<SelectListItem>, new { @id = "ElencolistaTrasferimento", @class = "form-control select2 select2-select" })
        }

        
        <div id="divCombo2" class="col-xs-9">
            <div class="select2-container select2-container--classic">
                @if (admin)
                {
                    @Html.DropDownList("listaTrasferimento", ViewBag.ListaTrasferimento as IEnumerable<SelectListItem>, new { @id = "ElencolistaTrasferimento", @class = "form-control select2 select2-select" })
                }
                else
                {
                    if (notificato )
                    {
                        @Html.Label("lblListaTrasferimento", "Trasferimento", new { @class = "control-label col-xs-3" })
                        @Html.DropDownList("listaTrasferimento", ViewBag.ListaTrasferimento as IEnumerable<SelectListItem>, new { @id = "ElencolistaTrasferimento", @class = "form-control select2 select2-select" })
                    }
                }

            </div>
        </div>
    </div>*@


    @if (notificato || admin)
    {
        <div class="form-group">
            @Html.Label("lblListaTrasferimento", "Trasferimento", new { @class = "control-label col-xs-3" })

            <div id="divCombo2" class="col-xs-9">
                <div class="select2-container select2-container--classic">
                    @Html.DropDownList("listaTrasferimento", ViewBag.ListaTrasferimento as IEnumerable<SelectListItem>, new { @id = "ElencolistaTrasferimento", @class = "form-control select2 select2-select" })
                </div>
            </div>
        </div>
    }

</div>

<script type="text/javascript">
    //debugger;

    $("#hidTrasferimento").val("0");

    $("#ElencolistaTrasferimento").select2({
        placeholder: "Seleziona il trasferimento",
        allowClear: true,
        language: "it",
        width: '335',
        allowClear: false
    });

    $("#ElencolistaTrasferimento").change(function () {
        //debugger;

        $("#hidTrasferimento").val($('#ElencolistaTrasferimento').val());
        $("#hMenuInLavorazione").val("mnNuovoTrasferimento");
        NuovoTrasferimento();
        //debugger;
        InfoTrasferimento(this.value);
        //debugger;
        GestioneMenu();
        MenuDaVisualizzare();



    });

    var idTrasf = $('#ElencolistaTrasferimento').val();
    $("#hidTrasferimento").val(idTrasf);

    InfoTrasferimento();
    //debugger;
    GestioneMenu();

    MenuDaVisualizzare();

</script>
