@model NewISE.Models.DBModel.DocumentiModel

<div class="form-horizontal">
    <div class="form-group ">
        <div class="col-xs-9">
            <input id="file" name="file" multiple type="file" class="file file-loading hidden" data-allowed-file-extensions='["pdf"]' data-show-preview="false" value="">
            <div id="divFile" style="display: inline-block;">
                <button class="btn btn-default  " id="btUploadFTV">
                    <i class="fa fa-2x fa-upload" aria-hidden="true"></i>
                    Seleziona il formulario
                </button>
                <span id="spanNomeFile">Seleziona il formulario</span>
            </div>
            <i class="fa fa-asterisk text-danger" aria-hidden="true"></i>
            @Html.ValidationMessageFor(model => model.file, "", new { @class = "text-danger" })
        </div>
    </div>
</div>

<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/ValidationWithBoot.js"></script>

<script type="text/javascript">
    $("#btUploadFTV").click(function () {
        //debugger;
        $("#file").empty();
        $("#file").click();
    });

    $("#file").change(function () {
        //debugger;
        var file = $("#file").val();
        if (file != null && file != undefined) {
            var splitFile = file.split("\\");
            var nomeFile = splitFile[splitFile.length - 1];

            var estensioniValide = new Array(".pdf");
            var estensione = nomeFile.substring(nomeFile.lastIndexOf('.')).toLowerCase();
            if (estensioniValide.contiene(estensione)) {

                //$("#NomeFile").val(nomeFile);
                //$("#EstensioneFile").val(estensione);

                $("#spanNomeFile").html(nomeFile);
                return true;
            } else {

                MsgErroreJson("L'estensione del documento che si vuole importare (" + estensione + ") non è supportata.\nL'estensione supportata è il .pdf");

                return false;
            }
        }

    });

    function Validazione() {
        //debugger;
        var ret = false;

        var file = $("#file").val();

        if (file != null && file != undefined && file != "") {
            $("#divFile").removeClass('BordoRosso');
            ret = true;
        }
        else {
            $("#divFile").addClass('BordoRosso');
            ret = false;
        }

        return ret;
    }

</script>
